<svg id="SvgjsSvg1000" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" width="1137" height="372"><defs id="SvgjsDefs1001"><marker id="SvgjsMarker1035" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1036" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1055" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1056" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1067" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1068" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1071" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1072" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1097" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1098" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1101" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1102" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1105" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1106" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1119" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1120" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1123" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1124" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1127" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1128" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1135" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1136" d="M0 2L14 6L0 11L0 2 " fill="#323232" stroke="#323232" stroke-width="2"></path></marker></defs><g id="SvgjsG1007" transform="translate(25,25)"><path id="SvgjsPath1008" d="M0 4Q0 0 4 0L314 0Q318 0 318 4L318 288Q318 292 314 292L4 292Q0 292 0 288Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1009"><text id="SvgjsText1010" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="298px" fill="#323232" font-weight="400" align="top" lineHeight="125%" font-style="" opacity="1" y="-1.625" transform="rotate(0)"><tspan id="SvgjsTspan1011" dy="16" x="159"><tspan id="SvgjsTspan1012" style="text-decoration:;">ServiceA</tspan></tspan></text></g></g><g id="SvgjsG1013" transform="translate(35,159)"><path id="SvgjsPath1014" d="M15 0L88.33333333333333 0C103.18181818181819 0 103.18181818181819 70 88.33333333333333 70L15 70C-5 70 -5 0 15 0ZM88.33333333333333 0C73.75 0 73.75 70 88.33333333333333 70C73.75 70 73.75 0 88.33333333333333 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1015"><text id="SvgjsText1016" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="80px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="25.375" transform="rotate(0)"><tspan id="SvgjsTspan1017" dy="16" x="40"><tspan id="SvgjsTspan1018" style="text-decoration:;">DB-A</tspan></tspan></text></g></g><g id="SvgjsG1019" transform="translate(499.5,105)"><path id="SvgjsPath1020" d="M0 4Q0 0 4 0L113.5 0Q117.5 0 117.5 4L117.5 160Q117.5 164 113.5 164L4 164Q0 164 0 160Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1021"><text id="SvgjsText1022" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="98px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="64.375" transform="rotate(0)"><tspan id="SvgjsTspan1023" dy="16" x="59"><tspan id="SvgjsTspan1024" style="text-decoration:;">RocketMQ</tspan></tspan><tspan id="SvgjsTspan1025" dy="16" x="59"><tspan id="SvgjsTspan1026" style="text-decoration:;">Broker</tspan></tspan></text></g></g><g id="SvgjsG1027" transform="translate(791,100)"><path id="SvgjsPath1028" d="M0 4Q0 0 4 0L317 0Q321 0 321 4L321 160Q321 164 317 164L4 164Q0 164 0 160Z " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1029"><text id="SvgjsText1030" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="301px" fill="#323232" font-weight="400" align="top" lineHeight="125%" font-style="" opacity="1" y="-1.625" transform="rotate(0)"><tspan id="SvgjsTspan1031" dy="16" x="160.5"><tspan id="SvgjsTspan1032" style="text-decoration:;">ServiceB</tspan></tspan></text></g></g><g id="SvgjsG1033"><path id="SvgjsPath1034" d="M314.5 136C388.50620265469854 136 425.49379734530146 133.60465116279067 499.5 133.60465116279067 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1035)"></path><rect id="SvgjsRect1037" width="65" height="16" x="374.5" y="126.80232558139534" fill="#ffffff"></rect><text id="SvgjsText1038" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="65px" fill="#323232" font-weight="400" align="top" lineHeight="16px" font-style="" opacity="1" y="125.17732558139534" transform="rotate(0)"><tspan id="SvgjsTspan1039" dy="16" x="407"><tspan id="SvgjsTspan1040" style="text-decoration:;">发送半消息</tspan></tspan></text></g><g id="SvgjsG1041" transform="translate(226.5,117)"><path id="SvgjsPath1042" d="M0 0L88 0L88 38L0 38Z " stroke="rgba(102,102,102,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1043"><text id="SvgjsText1044" font-family="Arial" text-anchor="middle" font-size="11px" width="68px" fill="#000000" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="11.125" transform="rotate(0)"><tspan id="SvgjsTspan1045" dy="13" x="44"><tspan id="SvgjsTspan1046" style="text-decoration:;">发送半消息</tspan></tspan></text></g></g><g id="SvgjsG1047" transform="translate(226.5,191)"><path id="SvgjsPath1048" d="M0 0L88 0L88 38L0 38Z " stroke="rgba(102,102,102,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1049"><text id="SvgjsText1050" font-family="Arial" text-anchor="middle" font-size="11px" width="68px" fill="#000000" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="11.125" transform="rotate(0)"><tspan id="SvgjsTspan1051" dy="13" x="44"><tspan id="SvgjsTspan1052" style="text-decoration:;">执行本地事务</tspan></tspan></text></g></g><g id="SvgjsG1053"><path id="SvgjsPath1054" d="M226.5 210C189.34465045245838 210 172.15534954754162 194 135 194 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1055)"></path></g><g id="SvgjsG1057" transform="translate(226.5,264)"><path id="SvgjsPath1058" d="M0 0L88 0L88 38L0 38Z " stroke="rgba(102,102,102,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1059"><text id="SvgjsText1060" font-family="Arial" text-anchor="middle" font-size="11px" width="68px" fill="#000000" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="4.625" transform="rotate(0)"><tspan id="SvgjsTspan1061" dy="13" x="44"><tspan id="SvgjsTspan1062" style="text-decoration:;">本地事务提交</tspan></tspan><tspan id="SvgjsTspan1063" dy="13" x="44"><tspan id="SvgjsTspan1064" style="text-decoration:;">或回滚</tspan></tspan></text></g></g><g id="SvgjsG1065"><path id="SvgjsPath1066" d="M270.5 229C270.5 243 270.5 250 270.5 264 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1067)"></path></g><g id="SvgjsG1069"><path id="SvgjsPath1070" d="M314.5 283C390.5234821825366 283 423.4765178174634 239.4418604651163 499.5 239.4418604651163 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1071)"></path><rect id="SvgjsRect1073" width="104" height="16" x="355" y="253.22093023255815" fill="#ffffff"></rect><text id="SvgjsText1074" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="104px" fill="#323232" font-weight="400" align="top" lineHeight="16px" font-style="" opacity="1" y="251.59593023255815" transform="rotate(0)"><tspan id="SvgjsTspan1075" dy="16" x="407"><tspan id="SvgjsTspan1076" style="text-decoration:;">提交或回滚半消息</tspan></tspan></text></g><g id="SvgjsG1077" transform="translate(800.5,128)"><path id="SvgjsPath1078" d="M0 0L88 0L88 38L0 38Z " stroke="rgba(102,102,102,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1079"><text id="SvgjsText1080" font-family="Arial" text-anchor="middle" font-size="11px" width="68px" fill="#000000" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="11.125" transform="rotate(0)"><tspan id="SvgjsTspan1081" dy="13" x="44"><tspan id="SvgjsTspan1082" style="text-decoration:;">获取事务消息</tspan></tspan></text></g></g><g id="SvgjsG1083" transform="translate(989,147)"><path id="SvgjsPath1084" d="M15 0L88.33333333333333 0C103.18181818181819 0 103.18181818181819 70 88.33333333333333 70L15 70C-5 70 -5 0 15 0ZM88.33333333333333 0C73.75 0 73.75 70 88.33333333333333 70C73.75 70 73.75 0 88.33333333333333 0 " stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1085"><text id="SvgjsText1086" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="80px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="25.375" transform="rotate(0)"><tspan id="SvgjsTspan1087" dy="16" x="40"><tspan id="SvgjsTspan1088" style="text-decoration:;">DB-B</tspan></tspan></text></g></g><g id="SvgjsG1089" transform="translate(800.5,191)"><path id="SvgjsPath1090" d="M0 0L88 0L88 38L0 38Z " stroke="rgba(102,102,102,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1091"><text id="SvgjsText1092" font-family="Arial" text-anchor="middle" font-size="11px" width="68px" fill="#000000" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="11.125" transform="rotate(0)"><tspan id="SvgjsTspan1093" dy="13" x="44"><tspan id="SvgjsTspan1094" style="text-decoration:;">执行本地事务</tspan></tspan></text></g></g><g id="SvgjsG1095"><path id="SvgjsPath1096" d="M888.5 210C930.2310436006578 210 947.2689563993422 182 989 182 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1097)"></path></g><g id="SvgjsG1099"><path id="SvgjsPath1100" d="M844.5 166C844.5 176 844.5 181 844.5 191 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1101)"></path></g><g id="SvgjsG1103"><path id="SvgjsPath1104" d="M617 187C692.1236314351216 187 725.3763685648784 147 800.5 147 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1105)"></path><rect id="SvgjsRect1107" width="110" height="16" x="653.75" y="159" fill="#ffffff"></rect><text id="SvgjsText1108" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="110px" fill="#323232" font-weight="400" align="top" lineHeight="16px" font-style="" opacity="1" y="157.375" transform="rotate(0)"><tspan id="SvgjsTspan1109" dy="16" x="708.75"><tspan id="SvgjsTspan1110" style="text-decoration:;">commit，投递消息</tspan></tspan></text></g><g id="SvgjsG1111" transform="translate(226.5,39)"><path id="SvgjsPath1112" d="M0 0L88 0L88 38L0 38Z " stroke="rgba(102,102,102,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1113"><text id="SvgjsText1114" font-family="Arial" text-anchor="middle" font-size="11px" width="68px" fill="#000000" font-weight="400" align="middle" lineHeight="125%" font-style="" opacity="1" y="11.125" transform="rotate(0)"><tspan id="SvgjsTspan1115" dy="13" x="44"><tspan id="SvgjsTspan1116" style="text-decoration:;">开启事务</tspan></tspan></text></g></g><g id="SvgjsG1117"><path id="SvgjsPath1118" d="M270.5 77C270.5 93 270.5 101 270.5 117 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1119)"></path></g><g id="SvgjsG1121"><path id="SvgjsPath1122" d="M270.5 155C270.5 169.39999999999998 270.5 176.60000000000002 270.5 191 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1123)"></path></g><g id="SvgjsG1125"><path id="SvgjsPath1126" d="M558.25 269L558.25 347L273 347L273 317 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1127)"></path><rect id="SvgjsRect1129" width="78" height="16" x="400.625" y="339" fill="#ffffff"></rect><text id="SvgjsText1130" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="78px" fill="#323232" font-weight="400" align="top" lineHeight="16px" font-style="" opacity="1" y="337.375" transform="rotate(0)"><tspan id="SvgjsTspan1131" dy="16" x="439.625"><tspan id="SvgjsTspan1132" style="text-decoration:;">定时消息确认</tspan></tspan></text></g><g id="SvgjsG1133"><path id="SvgjsPath1134" d="M800.5 210C726.5256801315484 210 690.9743198684516 187 617 187 " stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1135)"></path><rect id="SvgjsRect1137" width="79" height="16" x="669.25" y="190.5" fill="#ffffff"></rect><text id="SvgjsText1138" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="79px" fill="#323232" font-weight="400" align="top" lineHeight="16px" font-style="" opacity="1" y="188.875" transform="rotate(0)"><tspan id="SvgjsTspan1139" dy="16" x="708.75"><tspan id="SvgjsTspan1140" style="text-decoration:;">消费成功ACK</tspan></tspan></text></g></svg>